<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CEC WAM // EVE-4 HD SOVEREIGN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { --neon-cyan: #00f3ff; --neon-purple: #bc13fe; --neon-gold: #ffb700; }
        body { background: #000; margin: 0; overflow: hidden; font-family: 'Orbitron', sans-serif; }
        #canvas-container { position: absolute; inset: 0; z-index: 0; }
        .hud { position: relative; z-index: 10; pointer-events: none; height: 100vh; width: 100vw; display: flex; flex-direction: column; padding: 2rem; }
        .glass { background: rgba(0, 10, 20, 0.85); backdrop-filter: blur(20px); border: 1px solid var(--neon-cyan); box-shadow: 0 0 30px rgba(0, 243, 255, 0.2); border-radius: 15px; pointer-events: auto; }
        .glow-gold { color: var(--neon-gold); text-shadow: 0 0 15px var(--neon-gold); }
        .psi-mark { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 20rem; opacity: 0.03; color: white; pointer-events: none; }
        .btn-toggle { background: rgba(188, 19, 254, 0.2); border: 1px solid var(--neon-purple); color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer; pointer-events: auto; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="canvas-container"></div>
    <div class="psi-mark">Ψ</div>

    <div class="hud" id="main-hud">
        <header class="glass p-6 mb-6 flex justify-between items-center border-b-4 border-[#bc13fe]">
            <div>
                <h1 class="text-3xl text-white">CEC WAM <span class="text-[#bc13fe]">EVE-4</span></h1>
                <p class="text-[10px] tracking-[0.5em] text-cyan-400">1010_SOVEREIGN_LINK_ACTIVE</p>
            </div>
            <div class="text-right">
                <p class="text-[10px] text-gray-400 uppercase">Total Liquid Valuation (10X)</p>
                <p class="text-4xl font-bold glow-gold" id="val-display">$13,700,427</p>
            </div>
        </header>

        <div class="flex-1 grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="glass p-6 md:col-span-1 border-l-4 border-yellow-500">
                <h3 class="text-xs text-gray-500 mb-4">SYSTEM STATS</h3>
                <div class="mb-4">
                    <p class="text-[10px] text-gray-400">LIQUID BASELINE</p>
                    <p class="text-2xl text-white" id="base-cash">$1,250,039</p>
                </div>
                <div class="mb-4">
                    <p class="text-[10px] text-gray-400">PSI-COIN MASS</p>
                    <p class="text-2xl text-cyan-400">176,452.66</p>
                </div>
                <button class="btn-toggle w-full mt-4" onclick="toggleView()">PLANET FOCUS</button>
            </div>

            <div class="glass p-6 md:col-span-3 flex flex-col">
                <div id="terminal" class="flex-1 font-mono text-[10px] text-purple-400 overflow-y-auto mb-4">
                    > [SYS] EVE-4 NEURAL LINK ESTABLISHED...<br>
                    > [DATA] SYNCING 1,400 LINES OF SOVEREIGN LOGIC...<br>
                    > [LOCK] ANTWAN WHITE ID VERIFIED (1010)...
                </div>
                <div class="flex gap-2 pointer-events-auto">
                    <input type="text" id="user-input" class="flex-1 bg-black border border-purple-500 rounded p-3 text-white text-xs outline-none" placeholder="Direct Command to EVE Core...">
                    <button onclick="sendCmd()" class="btn-toggle px-8">EXECUTE</button>
                </div>
            </div>
        </div>
    </div>

    <button onclick="toggleHUD()" class="btn-toggle absolute bottom-6 left-6 z-[100] text-[10px]">HUD ON/OFF</button>

    <script>
        function toggleHUD() { document.getElementById('main-hud').classList.toggle('hidden'); }

        // --- 1. DATA BRIDGE ---
        const SHEET_URL = "https://docs.google.com/spreadsheets/d/18NQPvRsWsjC_lje9VoSYSXLHGtbdEN4-sq4sSl9P9fw/export?format=csv";
        async function updateData() {
            try {
                const r = await fetch(SHEET_URL);
                const d = await r.text();
                const lines = d.split('\n');
                lines.forEach(l => {
                    const c = l.split(',');
                    if(l.toLowerCase().includes('liquid cash')) document.getElementById('base-cash').innerText = "$" + parseFloat(c[1]).toLocaleString();
                });
            } catch(e) {}
        }
        setInterval(updateData, 5000);

        // --- 2. 5D ENGINE (PLANETS & SHIPS) ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Alpha Centauri HD Render
        const planet = new THREE.Mesh(
            new THREE.SphereGeometry(2, 64, 64),
            new THREE.MeshPhongMaterial({ color: 0x00f3ff, emissive: 0xbc13fe, emissiveIntensity: 0.1, shininess: 100 })
        );
        scene.add(planet);

        const light = new THREE.PointLight(0xffffff, 1.5, 100);
        light.position.set(10, 10, 10);
        scene.add(light);
        scene.add(new THREE.AmbientLight(0x111111));

        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            planet.rotation.y += 0.005;
            renderer.render(scene, camera);
        }
        animate();

        function sendCmd() {
            const input = document.getElementById('user-input');
            const term = document.getElementById('terminal');
            if(!input.value) return;
            term.innerHTML += `<br><span class="text-white">> COMMAND: ${input.value}</span>`;
            term.innerHTML += `<br>> EVE: Directive Accepted. Trajectory Stabilized at 0.999Ω.`;
            input.value = "";
            term.scrollTop = term.scrollHeight;
            const msg = new SpeechSynthesisUtterance("Sovereign command recognized.");
            window.speechSynthesis.speak(msg);
        }
    </script>
</body>
</html>
