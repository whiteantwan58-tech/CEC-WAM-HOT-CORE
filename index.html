<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CEC-WAM // SOVEREIGN NEURAL CORE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #00f3ff; font-family: 'Rajdhani', sans-serif; overflow: hidden; height: 100vh; }
        .data-stream { font-family: 'Courier New', monospace; font-size: 10px; color: rgba(0, 243, 255, 0.4); }
        .glitch { animation: glitch 1s linear infinite; }
        @keyframes glitch { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        .border-neon { border: 1px solid #00f3ff; box-shadow: 0 0 10px #00f3ff; }
    </style>
</head>
<body class="p-4 flex flex-col">
    <div class="flex justify-between items-center border-b border-cyan-900 pb-2 mb-4">
        <h1 class="font-orbitron text-2xl tracking-widest glitch">CEC-WAM // EVE-V46</h1>
        <div class="text-right">
            <p class="text-[10px] text-gray-500">LIQUIDITY STATUS</p>
            <p id="val-disp" class="text-xl text-yellow-500 font-bold">$1,250,343,000</p>
        </div>
    </div>

    <div class="flex flex-1 gap-4 overflow-hidden">
        <div class="w-1/4 border-neon p-2 bg-black/40 overflow-hidden">
            <h3 class="text-xs font-bold mb-2">NEURAL_SYNC_LOG</h3>
            <div id="log-container" class="data-stream h-full"></div>
        </div>

        <div class="flex-1 relative border-neon bg-gray-900 overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full opacity-30">
                <canvas id="canvas"></canvas>
            </div>
            <div class="absolute inset-0 flex flex-col items-center justify-center">
                <div class="w-64 h-64 rounded-full border-4 border-cyan-500 border-dashed animate-spin-slow opacity-50"></div>
                <div class="absolute text-center">
                    <p class="font-orbitron text-sm">BRAIN SECURITY</p>
                    <p class="text-3xl font-bold">100% ENCRYPTED</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        // For live camera feeds, configure these values in your deployment environment
        // DO NOT commit actual API keys to version control
        const CONFIG = {
            // Option 1: Use environment variables (recommended for production)
            CAMERA_API_KEY: window.ENV?.CAMERA_API_KEY || null,
            LIVE_FEED_URL: window.ENV?.LIVE_FEED_URL || null,
            
            // Option 2: For demo purposes, fallback to placeholder
            enableLiveFeed: false // Set to true when camera feed is configured
        };

        // --- LOGGING SYSTEM ---
        const logs = document.getElementById('log-container');
        
        /**
         * Add a log entry to the neural sync log
         * @param {string} message - The log message to display
         * @param {string} level - Log level (SYS, SEC, DATA, VAL, API, ERR)
         */
        function addLog(message = null, level = null) {
            const defaultMessages = [
                "[SYS] GMAIL_SYNC_COMPLETE",
                "[SEC] BRAIN_SHIELD_ACTIVE", 
                "[DATA] ENTROPY_0.999",
                "[VAL] ASSET_LOCKED",
                "[API] MONITORING_ACTIVE",
                "[SYS] NEURAL_CORE_ONLINE"
            ];
            
            const logMessage = message || defaultMessages[Math.floor(Math.random() * defaultMessages.length)];
            const timestamp = new Date().toLocaleTimeString();
            
            const div = document.createElement('div');
            div.innerText = `> ${logMessage} @ ${timestamp}`;
            
            // Add color coding based on level
            if (message) {
                if (message.includes('[ERR]')) div.style.color = '#ff4444';
                else if (message.includes('[SEC]')) div.style.color = '#44ff44';
                else if (message.includes('[API]')) div.style.color = '#ffaa44';
            }
            
            logs.prepend(div);
            if(logs.children.length > 50) logs.lastChild.remove();
        }
        
        // Auto-generate logs every 1.5 seconds
        setInterval(addLog, 1500);

        // --- LIVE CAMERA FEED INTEGRATION ---
        function connectLiveFeeds() {
            if (!CONFIG.enableLiveFeed || !CONFIG.LIVE_FEED_URL) {
                addLog('[API] CAMERA_FEED_DISABLED (Configure in deployment)', 'API');
                return;
            }
            
            try {
                const videoElement = document.querySelector('img[alt="Motherboard Core"]');
                if (videoElement) {
                    // Replace static image with live feed
                    videoElement.outerHTML = `<iframe 
                        src="${CONFIG.LIVE_FEED_URL}" 
                        class="w-full h-full border-none"
                        allow="camera; microphone"
                        sandbox="allow-scripts allow-same-origin"
                    ></iframe>`;
                    addLog('[API] CAMERA_LINK_ESTABLISHED', 'API');
                } else {
                    addLog('[API] CAMERA_ELEMENT_NOT_FOUND', 'API');
                }
            } catch (error) {
                addLog('[ERR] CAMERA_CONNECTION_FAILED: ' + error.message, 'ERR');
                console.error('Camera feed error:', error);
            }
        }

        // --- VALUE TICKER ---
        setInterval(() => {
            const base = 1250343000;
            const variation = Math.floor(Math.random() * 5000);
            document.getElementById('val-disp').innerText = "$" + (base + variation).toLocaleString();
        }, 100);

        // --- INITIALIZATION ---
        window.onload = function() {
            addLog('[SYS] NEURAL_CORE_INITIALIZED', 'SYS');
            connectLiveFeeds();
            addLog('[SYS] DASHBOARD_READY', 'SYS');
        };
        
        // Log errors globally
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            addLog('[ERR] SYSTEM_ERROR: ' + msg, 'ERR');
            return false;
        };
    </script>
</body>
</html>
