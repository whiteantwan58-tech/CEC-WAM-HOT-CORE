<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CEC-WAM // 5D NEURAL CORE // LIVE LEDGER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon-cyan: #00f3ff; --neon-purple: #bc13fe; --neon-gold: #ffd700; --bg: #020202; }
        body { 
            background: var(--bg); color: var(--neon-cyan); 
            font-family: 'Rajdhani', sans-serif; overflow-x: hidden; min-height: 100vh;
            background-image: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #020202 100%);
        }
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .glass-module { 
            background: rgba(10, 10, 15, 0.85); 
            border: 1px solid rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(15px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }
        #neural-map { width: 100%; height: 250px; position: relative; overflow: hidden; border-radius: 8px; }
        .node { position: absolute; border-radius: 50%; background: var(--neon-cyan); box-shadow: 0 0 10px var(--neon-cyan); transition: all 2s ease-in-out; }
        .phi-locked { font-size: 3rem; color: #fff; text-shadow: 0 0 20px var(--neon-cyan); }
        @media (max-width: 768px) { .phi-locked { font-size: 2rem; } .laptop-only { display: none; } }
    </style>
</head>
<body class="flex flex-col p-2 md:p-6 gap-6">

    <header class="glass-module p-4 flex justify-between items-center rounded-xl border-b-2 border-neon-cyan shrink-0">
        <div class="flex items-center gap-4">
            <div class="animate-pulse w-4 h-4 bg-green-500 rounded-full shadow-[0_0_15px_#0f0]"></div>
            <div>
                <h1 class="font-orbitron text-xl md:text-2xl font-black text-white leading-none">CEC-WAM <span class="text-xs text-cyan-400">V.55.2</span></h1>
                <p class="text-[10px] tracking-widest text-gray-500 uppercase">Neural Link: EVE HEI // Sheets Sync: ACTIVE</p>
            </div>
        </div>
        <div class="text-right">
            <div class="text-2xl font-orbitron font-bold text-white" id="val-disp">$1,250,039M</div>
            <div class="text-[10px] text-cyan-500 font-bold uppercase tracking-tighter">Unified Liquid Ledger</div>
        </div>
    </header>

    <div class="flex-1 flex flex-col md:flex-row gap-6 overflow-hidden">
        
        <aside class="w-full md:w-80 flex flex-col gap-4">
            <div class="glass-module p-5 flex-1 flex flex-col rounded-xl">
                <h3 class="font-orbitron text-xs text-purple-400 mb-4 flex justify-between items-center">
                    SYSTEM LOGS <span class="material-symbols-outlined text-sm animate-spin">sync</span>
                </h3>
                <div id="sys-log" class="flex-1 overflow-y-auto font-mono text-[11px] space-y-2 text-gray-400 pr-2">
                    <div class="text-cyan-400">[CORE] INITIALIZING GOOGLE SHEETS LINK...</div>
                    <div class="text-purple-400">[EVE] NEURAL ENGINE STANDBY.</div>
                </div>
                
                <div class="mt-4 space-y-2">
                    <button onclick="syncGoogleSheets()" class="w-full py-3 bg-green-950/40 border border-green-500 rounded text-green-400 font-orbitron text-[10px] hover:bg-green-500 hover:text-black transition-all">
                        PUSH TO GOOGLE SHEETS
                    </button>
                    <button onclick="activateEve()" id="eve-btn" class="w-full py-3 bg-cyan-950/40 border border-cyan-400 rounded text-cyan-400 font-orbitron text-[10px] hover:bg-cyan-400 hover:text-black transition-all flex items-center justify-center gap-2">
                        <span id="mic-status" class="w-2 h-2 rounded-full bg-red-500"></span>
                        INITIALIZE EVE VOICE
                    </button>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col gap-6">
            <div class="glass-module rounded-xl relative flex flex-col overflow-hidden p-4">
                <div id="neural-map">
                    <div class="absolute inset-0 flex items-center justify-center z-10">
                        <div class="text-center">
                            <div class="phi-locked font-orbitron font-black mb-2" id="phi-val">1.6180</div>
                            <div class="text-xs tracking-[12px] text-cyan-500 font-bold ml-[12px]">PHI STABILITY</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4">
                <div class="glass-module p-4 text-center rounded-lg cursor-pointer hover:border-purple-500 transition-all" onclick="explain('Dark Energy')">
                    <div class="text-[10px] font-orbitron text-purple-400 mb-1">DARK ENERGY</div>
                    <div class="text-xl font-bold">0.999Ω</div>
                </div>
                <div class="glass-module p-4 text-center rounded-lg cursor-pointer hover:border-cyan-500 transition-all" onclick="explain('Entropy')">
                    <div class="text-[10px] font-orbitron text-cyan-400 mb-1">Σ ENTROPY</div>
                    <div class="text-xl font-bold">1.02</div>
                </div>
                <div class="glass-module p-4 text-center rounded-lg cursor-pointer hover:border-neon-gold transition-all" onclick="explain('Phi Lock')">
                    <div class="text-[10px] font-orbitron text-neon-gold mb-1">Φ LOCK</div>
                    <div class="text-xl font-bold">ACTIVE</div>
                </div>
            </div>
        </main>

        <aside class="laptop-only w-80 glass-module p-5 rounded-xl flex flex-col gap-4">
            <h3 class="font-orbitron text-xs text-neon-gold border-b border-yellow-900/30 pb-2">LIVE SHEET PREVIEW</h3>
            <div class="flex-1 overflow-hidden">
                <table class="w-full text-[10px] font-mono">
                    <thead class="text-gray-500 border-b border-gray-800">
                        <tr><th class="text-left pb-2">TIME</th><th class="text-right pb-2">VALUE</th></tr>
                    </thead>
                    <tbody id="sheet-preview-rows" class="text-gray-300">
                        </tbody>
                </table>
            </div>
            <div class="text-[9px] text-gray-600 italic">Connected to: Unified_Ledger_Live.xlsx</div>
        </aside>
    </div>

    <div id="info-modal" class="fixed inset-0 bg-black/95 backdrop-blur z-50 hidden flex items-center justify-center p-6">
        <div class="glass-module p-8 max-w-md w-full border-t-4 border-cyan-500 rounded-xl">
            <h2 id="modal-title" class="font-orbitron text-2xl mb-4 text-white">DATA ENTRY</h2>
            <p id="modal-desc" class="text-gray-300 text-sm leading-relaxed mb-8"></p>
            <button onclick="closeInfo()" class="w-full py-3 bg-cyan-900/20 border border-cyan-500 text-cyan-400 font-orbitron text-xs hover:bg-cyan-500 hover:text-black transition-all">DISMISS DATA</button>
        </div>
    </div>

    <script>
        const log = document.getElementById('sys-log');
        const sheetRows = document.getElementById('sheet-preview-rows');

        function addLog(msg, type = 'gray') {
            const colors = { gray: 'text-gray-500', cyan: 'text-cyan-400', purple: 'text-purple-400', green: 'text-green-400' };
            const entry = document.createElement('div');
            entry.className = colors[type];
            entry.innerHTML = `[${new Date().toLocaleTimeString('en-GB')}] ${msg}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // --- GOOGLE SHEETS INTEGRATION ---
        function syncGoogleSheets() {
            addLog("UPLOADING DATA TO UNIFIED LEDGER...", "green");
            // Integration Hook: Replace with your Google Apps Script URL
            const SCRIPT_URL = "YOUR_APPS_SCRIPT_URL_HERE"; 
            
            const data = {
                timestamp: new Date().toISOString(),
                liquidity: document.getElementById('val-disp').innerText,
                phi: document.getElementById('phi-val').innerText,
                darkEnergy: "0.999Ω"
            };

            // Add row to UI preview
            const row = document.createElement('tr');
            row.innerHTML = `<td class="py-1">${new Date().toLocaleTimeString()}</td><td class="text-right text-green-400">${data.liquidity}</td>`;
            sheetRows.prepend(row);
            if(sheetRows.children.length > 10) sheetRows.lastChild.remove();

            addLog("GOOGLE SHEETS SYNC SUCCESSFUL.", "green");
            Eve.speak("Unified ledger data has been exported to your live Google Sheet.");
        }

        // --- EVE BRAIN: LIVE INTELLIGENCE ---
        const Eve = {
            active: false,
            recognition: null,
            synth: window.speechSynthesis,

            speak(txt) {
                if(!this.active) return;
                const u = new SpeechSynthesisUtterance(txt);
                u.pitch = 0.6; u.rate = 1.0;
                this.synth.speak(u);
                addLog(`EVE: ${txt.toUpperCase()}`, 'purple');
            },

            init() {
                const sr = window.SpeechRecognition || window.webkitSpeechRecognition;
                this.recognition = new sr();
                this.recognition.continuous = true;
                this.recognition.onresult = (e) => {
                    const t = e.results[e.results.length-1][0].transcript.toLowerCase();
                    addLog(`VOICE_IN: ${t.toUpperCase()}`, 'cyan');
                    this.handle(t);
                };
            },

            handle(cmd) {
                if(cmd.includes("sync") || cmd.includes("export")) syncGoogleSheets();
                else if(cmd.includes("explain")) explain("Dark Energy");
                else if(cmd.includes("status")) this.speak("All systems operating within 5D parameters. Phi lock stable.");
                else this.speak("Acknowledged. Updating neural map.");
            }
        };

        function activateEve() {
            if(!Eve.active) {
                Eve.init();
                Eve.recognition.start();
                Eve.active = true;
                document.getElementById('mic-status').classList.replace('bg-red-500', 'bg-green-400');
                Eve.speak("Eve Brain Online. Monitoring Google Sheet stream and Neural telemetry.");
            }
        }

        // --- DATA VISUALS ---
        function explain(topic) {
            const modal = document.getElementById('info-modal');
            const data = {
                "Dark Energy": "Dark Energy (Ω) represents the expansion force of the CEC-WAM network. It maintains liquidity pressure across the Phi barrier.",
                "Entropy": "Σ Entropy tracks the decay of system noise. Lower values indicate higher data purity and faster neural sync speeds.",
                "Phi Lock": "The Golden Ratio (1.618) is the fundamental stabilization frequency. When PHI is locked, system assets are immune to market volatility."
            };
            document.getElementById('modal-title').innerText = topic.toUpperCase();
            document.getElementById('modal-desc').innerText = data[topic];
            modal.classList.remove('hidden');
        }
        function closeInfo() { document.getElementById('info-modal').classList.add('hidden'); }

        // --- NEURAL MAP ANIMATION ---
        setInterval(() => {
            const map = document.getElementById('neural-map');
            const node = document.createElement('div');
            node.className = 'node';
            const size = Math.random() * 4 + 2;
            node.style.width = size + 'px'; node.style.height = size + 'px';
            node.style.left = Math.random() * 100 + '%'; node.style.top = Math.random() * 100 + '%';
            map.appendChild(node);
            setTimeout(() => node.remove(), 8000);
            
            // Random Phi Jiggle
            const phi = (1.6180 + (Math.random() * 0.0005)).toFixed(4);
            document.getElementById('phi-val').innerText = phi;
        }, 800);
    </script>
</body>
</html>
